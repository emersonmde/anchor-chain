<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Anchor Chain"><title>anchor_chain - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="anchor_chain" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0 (129f3b996 2024-06-10)" data-channel="1.79.0" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-e32f0c247825364d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../anchor_chain/index.html">anchor_chain</a><span class="version">0.4.2</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../anchor_chain/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">anchor_chain</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/anchor_chain/lib.rs.html#1-146">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="anchor-chain"><a class="doc-anchor" href="#anchor-chain">§</a>Anchor Chain</h2>
<p>Anchor Chain is a Rust framework designed to simplify the orchestration of workflows involving
Large Language Models (LLMs). Inspired by LangChain, Anchor Chain provides a set of easy-to-use
and extensible building blocks that enable developers to create robust and efficient LLM-based
applications quickly. The framework prioritizes type safety, processing efficiency, and
flexibility through its carefully designed APIs and abstractions.</p>
<h3 id="features"><a class="doc-anchor" href="#features">§</a>Features</h3>
<ul>
<li>
<p>Statically Typed Chains: Anchor Chain leverages Rust’s type system to provide statically
typed chains, catching potential type mismatches at compile time.</p>
</li>
<li>
<p>Async Runtime for Parallel Execution: Built with Rust’s async runtime, Anchor Chain allows
for efficient parallel processing of nodes in complex chains.</p>
</li>
<li>
<p>Extensibility through the Node Trait: The Node trait allows developers to create custom
nodes tailored to their specific use cases, enabling seamless integration into the chain.</p>
</li>
<li>
<p>Support for Popular LLMs: Anchor Chain provides built-in support for popular LLMs, such as
OpenAI’s GPT models and Anthropic Claude, abstracting away API details to provide a common
interface.</p>
</li>
<li>
<p>Parallel Node Execution: The ParallelNode struct enables parallel execution of multiple
nodes, leveraging concurrency to improve overall chain performance.</p>
</li>
</ul>
<h3 id="getting-started"><a class="doc-anchor" href="#getting-started">§</a>Getting Started</h3>
<p>To get started with Anchor Chain, add the following dependency to your Cargo.toml file:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
anchor-chain = &quot;0.1.0&quot;
</code></pre></div>
<p>Then, you can create chains using the ChainBuilder and invoke them with the .process()
function. Any node can be added to the chain using the link() function which
will execute the node in the order it was added.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() {
    <span class="kw">use </span>anchor_chain::{
        chain::ChainBuilder,
        models::openai::OpenAIModel,
    };

    <span class="kw">let </span>chain = ChainBuilder::new()
        .link(OpenAIModel::new_gpt3_5_turbo(<span class="string">"You are a helpful assistant"</span>).<span class="kw">await</span>)
        .build();

    <span class="kw">let </span>result = chain
        .process(<span class="string">"Write a hello world program in Rust"</span>)
        .<span class="kw">await
        </span>.expect(<span class="string">"Error processing chain"</span>);

    <span class="macro">println!</span>(<span class="string">"Result: {}"</span>, result);
}</code></pre></div>
<p>Prompts can be constructed using the <code>Prompt</code> struct. <code>Prompt</code> uses
<a href="https://keats.github.io/tera/docs/#templates">Tera</a> templating to allow
for dynamic input substitution. Tera’s syntax is based on Jinja2 and Django
templates. Context variables are passed to the prompt using a HashMap.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::collections::HashMap;

<span class="attr">#[tokio::main]
</span><span class="kw">async fn </span>main() {
    <span class="kw">use </span>anchor_chain::{
        chain::ChainBuilder,
        models::openai::OpenAIModel,
        nodes::prompt::Prompt,
    };

    <span class="kw">let </span>chain = ChainBuilder::new()
        .link(Prompt::new(<span class="string">"{{ input }}"</span>))
        .link(OpenAIModel::new_gpt3_5_turbo(<span class="string">"You are a helpful assistant"</span>).<span class="kw">await</span>)
        .build();

    <span class="kw">let </span>result = chain
        .process(HashMap::from([(<span class="string">"input"</span>, <span class="string">"Write a hello world program in Rust"</span>)]))
        .<span class="kw">await
        </span>.expect(<span class="string">"Error processing chain"</span>);

    <span class="macro">println!</span>(<span class="string">"Result: {}"</span>, result);
}</code></pre></div>
<p>For more examples please refer to the <a href="https://github.com/emersonmde/anchor-chain/tree/main/examples">examples
directory</a>.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.ChainBuilder"><code>pub use chain::<a class="struct" href="chain/struct.ChainBuilder.html" title="struct anchor_chain::chain::ChainBuilder">ChainBuilder</a>;</code></div></li><li><div class="item-name" id="reexport.NoOpNode"><code>pub use node::<a class="struct" href="node/struct.NoOpNode.html" title="struct anchor_chain::node::NoOpNode">NoOpNode</a>;</code></div></li><li><div class="item-name" id="reexport.Node"><code>pub use node::<a class="trait" href="node/trait.Node.html" title="trait anchor_chain::node::Node">Node</a>;</code></div></li><li><div class="item-name" id="reexport.Logger"><code>pub use nodes::logger::<a class="struct" href="nodes/logger/struct.Logger.html" title="struct anchor_chain::nodes::logger::Logger">Logger</a>;</code></div></li><li><div class="item-name" id="reexport.Prompt"><code>pub use nodes::prompt::<a class="struct" href="nodes/prompt/struct.Prompt.html" title="struct anchor_chain::nodes::prompt::Prompt">Prompt</a>;</code></div></li><li><div class="item-name" id="reexport.to_boxed_future"><code>pub use parallel_node::<a class="fn" href="parallel_node/fn.to_boxed_future.html" title="fn anchor_chain::parallel_node::to_boxed_future">to_boxed_future</a>;</code></div></li><li><div class="item-name" id="reexport.ParallelNode"><code>pub use parallel_node::<a class="struct" href="parallel_node/struct.ParallelNode.html" title="struct anchor_chain::parallel_node::ParallelNode">ParallelNode</a>;</code></div></li><li><div class="item-name" id="reexport.OpenAIChatModel"><code>pub use models::openai::<a class="struct" href="models/openai/struct.OpenAIChatModel.html" title="struct anchor_chain::models::openai::OpenAIChatModel">OpenAIChatModel</a>;</code></div></li><li><div class="item-name" id="reexport.OpenAIEmbeddingModel"><code>pub use models::openai::<a class="struct" href="models/openai/struct.OpenAIEmbeddingModel.html" title="struct anchor_chain::models::openai::OpenAIEmbeddingModel">OpenAIEmbeddingModel</a>;</code></div></li><li><div class="item-name" id="reexport.OpenAIInstructModel"><code>pub use models::openai::<a class="struct" href="models/openai/struct.OpenAIInstructModel.html" title="struct anchor_chain::models::openai::OpenAIInstructModel">OpenAIInstructModel</a>;</code></div></li><li><div class="item-name" id="reexport.OpenAIModel"><code>pub use models::openai::<a class="enum" href="models/openai/enum.OpenAIModel.html" title="enum anchor_chain::models::openai::OpenAIModel">OpenAIModel</a>;</code></div></li><li><div class="item-name" id="reexport.Document"><code>pub use vector::document::<a class="struct" href="vector/document/struct.Document.html" title="struct anchor_chain::vector::document::Document">Document</a>;</code></div></li><li><div class="item-name" id="reexport.ctor"><code>pub use ctor;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="chain/index.html" title="mod anchor_chain::chain">chain</a></div><div class="desc docblock-short">Provides structures for creating and executing chains.</div></li><li><div class="item-name"><a class="mod" href="models/index.html" title="mod anchor_chain::models">models</a></div><div class="desc docblock-short">Contains nodes that are designed to work with various LLM models.</div></li><li><div class="item-name"><a class="mod" href="node/index.html" title="mod anchor_chain::node">node</a></div><div class="desc docblock-short">Module providing foundational structures for building chains.</div></li><li><div class="item-name"><a class="mod" href="nodes/index.html" title="mod anchor_chain::nodes">nodes</a></div><div class="desc docblock-short">Various nodes that can be chained together to form an LLM process chain.</div></li><li><div class="item-name"><a class="mod" href="parallel_node/index.html" title="mod anchor_chain::parallel_node">parallel_node</a></div><div class="desc docblock-short">Provides a structure for processing input through multiple nodes in parallel.</div></li><li><div class="item-name"><a class="mod" href="vector/index.html" title="mod anchor_chain::vector">vector</a></div><div class="desc docblock-short">This module contains various nodes for working with Vector databases.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Link.html" title="struct anchor_chain::Link">Link</a></div><div class="desc docblock-short">A link in a processing chain that connects one <code>Node</code> to another.</div></li><li><div class="item-name"><a class="struct" href="struct.StateManager.html" title="struct anchor_chain::StateManager">StateManager</a></div></li><li><div class="item-name"><a class="struct" href="struct.ToolRegistry.html" title="struct anchor_chain::ToolRegistry">ToolRegistry</a></div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AnchorChainError.html" title="enum anchor_chain::AnchorChainError">AnchorChainError</a></div><div class="desc docblock-short">Defines errors types for Anchor Chain</div></li></ul></section></div></main></body></html>